# pug –∏ json
–í–æ—Ç —Ç—ã –∫—Ä–∞—Å–∞–≤—á–∏–∫, –î–∞—è–Ω ‚Äî —Ä–∞–∑ –ø–æ—à—ë–ª, —Ç–∞–∫ —Å—Ä–∞–∑—É –≤ **—Ç–æ–ø–æ–≤—É—é —Å–≤—è–∑–∫—É: Pug + JSON**! üî•
–°–µ–π—á–∞—Å –ø–æ–∫–∞–∂—É, –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π `.json` —Ñ–∞–π–ª –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –ª—é–±–æ–º —à–∞–±–ª–æ–Ω–µ.

---

## üì¶ –ß—Ç–æ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å

1. –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `data.json`
2. –ü–æ–¥–∫–ª—é—á–∏–º –µ–≥–æ –≤ –∑–∞–¥–∞—á–µ `pugToHtml`
3. –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ `.pug` –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. –°–¥–µ–ª–∞–µ–º –ø—Ä–∏–º–µ—Ä —Å –º–∞—Å—Å–∏–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤, —Ü–∏–∫–ª–æ–º –∏ —É—Å–ª–æ–≤–∏–µ–º

---

## ‚úÖ –®–∞–≥ 1: –°–æ–∑–¥–∞–π `data.json`

–í –∫–æ—Ä–Ω–µ `src/pug/` –∏–ª–∏ —Ä—è–¥–æ–º —Å `gulpfile.js`:

```json
{
  "title": "–ú–æ–π —Å–∞–π—Ç",
  "isMainPage": true,
  "products": [
    { "name": "Lada Iskra", "price": 700000 },
    { "name": "Tesla Model 3", "price": 3000000 },
    { "name": "Moskvich 2141", "price": 50000 }
  ]
}
```

---

## ‚úÖ –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∞–µ–º JSON –≤ –∑–∞–¥–∞—á–µ `pugToHtml`

–í `gulpfile.js`:

```js
import pug from 'gulp-pug';
import fs from 'fs';

export function pugToHtml() {
  const data = JSON.parse(fs.readFileSync('./src/pug/data.json'));

  return src(['src/pug/pages/*.pug'])
    .pipe(plumber())
    .pipe(pug({
      pretty: !isProd,
      locals: data
    }))
    .pipe(dest('dist'))
    .pipe(browserSync.stream());
}
```

üìå `locals: data` ‚Äî —Ç–µ–ø–µ—Ä—å –≤—Å—ë –∏–∑ JSON –¥–æ—Å—Ç—É–ø–Ω–æ –≤ Pug!

---

## ‚úÖ –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ —à–∞–±–ª–æ–Ω–µ

### üìÑ `index.pug`

```pug
extends ../layouts/layout.pug

block content
  h1= title

  if isMainPage
    p –≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞!

  h2 –ù–∞—à–∏ —Ç–æ–≤–∞—Ä—ã:
  ul
    each product in products
      li
        strong= product.name
        | ‚Äî #{product.price.toLocaleString()} ‚ÇΩ
```

‚úÖ –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ: –≤ Pug –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `each`, `if`, `#{...}` –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—Å—Ç–∞.

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ HTML

```html
<h1>–ú–æ–π —Å–∞–π—Ç</h1>
<p>–≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞!</p>
<h2>–ù–∞—à–∏ —Ç–æ–≤–∞—Ä—ã:</h2>
<ul>
  <li><strong>Lada Iskra</strong> ‚Äî 700,000 ‚ÇΩ</li>
  <li><strong>Tesla Model 3</strong> ‚Äî 3,000,000 ‚ÇΩ</li>
  <li><strong>Moskvich 2141</strong> ‚Äî 50,000 ‚ÇΩ</li>
</ul>
```

---

## üöÄ –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å:

| –§–∏—à–∫–∞                 | ‚úÖ –ï—Å—Ç—å? |
| --------------------- | ------- |
| Layout / Extend       | ‚úÖ       |
| –ß–∞—Å—Ç–∏ (header/footer) | ‚úÖ       |
| JSON ‚Üí —à–∞–±–ª–æ–Ω—ã        | ‚úÖ       |
| –¶–∏–∫–ª—ã, —É—Å–ª–æ–≤–∏—è        | ‚úÖ       |
| –ì–∏–±–∫–æ—Å—Ç—å              | üíØ      |

---

–•–æ—á–µ—à—å ‚Äî –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ:

* —Å–¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–π JSON —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
* –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ `title`, `meta`, `activePage`
* –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ `data/–Ω–∞–∑–≤–∞–Ω–∏–µ.json` –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–ì–æ–Ω–∏ –∏–¥–µ—é ‚Äî –∏ –¥–µ–ª–∞–µ–º! üòé

---

–û—Ç–ª–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å, –î–∞—è–Ω! üí° –°–µ–π—á–∞—Å –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å–ø–∏—à—É, **—á—Ç–æ —è –∏–º–µ–ª –≤ –≤–∏–¥—É –ø–æ–¥ –∫–∞–∂–¥—ã–º –ø—É–Ω–∫—Ç–æ–º**, —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏, –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –∏ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.

---

## üß© 1. **–ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–π JSON —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏**

üîπ **–ß—Ç–æ —ç—Ç–æ**
–û–¥–∏–Ω –±–æ–ª—å—à–æ–π `data.json`, –≥–¥–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è **–¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü** —Å–∞–π—Ç–∞:

```json
{
  "global": {
    "siteName": "–ú–æ–π –°–∞–π—Ç",
    "footerText": "¬© –î–∞—è–Ω 2025"
  },
  "pages": {
    "index": {
      "title": "–ì–ª–∞–≤–Ω–∞—è",
      "isMainPage": true,
      "products": [...]
    },
    "about": {
      "title": "–û –Ω–∞—Å",
      "isMainPage": false,
      "text": "–ú—ã –∫–ª–∞—Å—Å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è"
    }
  }
}
```

üîπ **–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ**
–¢—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (layout, header), –Ω–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è **–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã**.

üîπ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `pug`**

```pug
title= pages.about.title
p= pages.about.text
```

---

## üß© 2. **–ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ title, meta, activePage**

üîπ **–ß—Ç–æ —ç—Ç–æ**
–ü–µ—Ä–µ–¥–∞—ë–º **–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** –≤ —à–∞–±–ª–æ–Ω –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

```json
{
  "title": "–ì–ª–∞–≤–Ω–∞—è",
  "description": "SEO-–æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã",
  "keywords": "–∞–≤—Ç–æ, –ª–∞–¥–∞, —Å–∞–π—Ç",
  "activePage": "home"
}
```

üîπ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `pug`**

### –í `head.pug`:

```pug
title= title
meta(name="description", content=description)
meta(name="keywords", content=keywords)
```

### –í `menu.pug`:

```pug
ul.menu
  li(class=activePage === 'home' ? 'active' : ''): a(href="/") –ì–ª–∞–≤–Ω–∞—è
  li(class=activePage === 'about' ? 'active' : ''): a(href="/about.html") –û –Ω–∞—Å
```

üîπ **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ**
‚úÖ SEO
‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
‚úÖ –ì–∏–±–∫–∏–π `layout` –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## üß© 3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ JSON-—Ñ–∞–π–ª—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã**

üîπ **–ß—Ç–æ —ç—Ç–æ**
–í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ `data.json` ‚Äî –¥–µ–ª–∞–µ—à—å:

```
src/
‚îú‚îÄ‚îÄ pug/
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.pug
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ about.pug
‚îÇ   ‚îî‚îÄ‚îÄ data/
‚îÇ       ‚îú‚îÄ‚îÄ index.json
‚îÇ       ‚îú‚îÄ‚îÄ about.json
```

üîπ **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

–í `gulpfile.js`, –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ç—ã:

* –æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å –∏–º—è —Ñ–∞–π–ª–∞ (`index`, `about`)
* –∏—â–µ—à—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π JSON
* –ø–æ–¥–≥—Ä—É–∂–∞–µ—à—å –µ–≥–æ –∏ –ø–µ—Ä–µ–¥–∞—ë—à—å –≤ `locals`

### –ü—Ä–∏–º–µ—Ä (—á—É—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π):

```js
export function pugToHtml() {
  return src('src/pug/pages/*.pug')
    .pipe(plumber())
    .pipe(data(file => {
      const name = path.basename(file.path, '.pug');
      const filepath = `./src/pug/data/${name}.json`;
      return fs.existsSync(filepath) ? JSON.parse(fs.readFileSync(filepath)) : {};
    }))
    .pipe(pug({ pretty: !isProd }))
    .pipe(dest('dist'))
    .pipe(browserSync.stream());
}
```

(–¢—É—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `gulp-data` ‚Äî –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∏ –æ–±—ä—è—Å–Ω–∏—Ç—å)

üîπ **–ó–∞—á–µ–º –Ω—É–∂–Ω–æ**

* –ö–∞–∂–¥–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞
* –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
* –£–¥–æ–±–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å ‚Äî –¥–∞–∂–µ –Ω–∞ 100 —Å—Ç—Ä–∞–Ω–∏—Ü

---

## üí• –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

| –•–æ—á–µ—à—å...                       | –†–µ–∫–æ–º–µ–Ω–¥—É—é                                        |
| ------------------------------- | ------------------------------------------------- |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ + –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ     | 1 –±–æ–ª—å—à–æ–π `data.json`                             |
| –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ SEO, –º–µ–Ω—é, –∑–∞–≥–æ–ª–æ–≤–∫–∏ | –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `title`, `meta`, `activePage` –≤ locals |
| –ú–∞—Å—à—Ç–∞–± + –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π —Å–∞–π—Ç  | `data/index.json`, `data/about.json` –∏ —Ç.–¥.       |

---

## üöÄ –ì–æ—Ç–æ–≤ —Å–¥–µ–ª–∞—Ç—å:

1. –ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞ —Å `title`, `description`, `activePage`
2. –ò–ª–∏ –≤–Ω–µ–¥—Ä–∏—Ç—å `gulp-data` + –∑–∞–≥—Ä—É–∑–∫—É JSON –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞

–ì–¥–µ –∫–æ–ø–Ω—ë–º –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º? üòé
